{% extends 'base.html' %}

{% block title %}Produto - Empresa Confi√°vel{% endblock %}

{% block content %}
<main class="product-page">
    <div class="product-container">
        <!-- Product Image -->
        <div class="product-image">
            <!-- Check if product.image exists, if so display the product image, otherwise use a default image -->
            {% if product.image %}
                <img src="{{ url_for('static', filename='images/' + product.image) }}" alt="Product Image" class="product-img">
            {% else %}
                <img src="{{ url_for('static', filename='images/default.jpg') }}" alt="Default Image" class="product-img">
            {% endif %}
        </div>

        <!-- Product Information -->
        <div class="product-details">
            <h1 class="product-title">{{ product.name }}</h1>
            <p class="product-description">{{ product.description }}</p>
            <p class="product-price">R$ {{ '%.2f' % product.price }}</p>
            
            <!-- Add to Cart Form -->
            <form action="{{ url_for('add_to_cart', product_id=product.id) }}" method="POST">
                <input type="hidden" name="name" value="{{ product.name }}">
                <input type="hidden" name="price" value="{{ product.price }}">
                <input type="hidden" name="image" value="{{ product.image }}">

                <!-- Product Quantity -->
                <div class="product-quantity">
                    <label for="quantity">Quantidade:</label>
                    <input type="number" id="quantity" name="quantity" value="1" min="1" max="100">
                </div>

                <!-- Product Size Selector -->
                <div class="product-size">
                    <label for="size">Tamanho:</label>
                    <select id="size" name="size">
                        {% for size in product.sizes %}
                            <option value="{{ size }}">{{ size }}</option>
                        {% endfor %}
                    </select>
                </div>

                <!-- Add to Cart Button -->
                <button type="submit" class="add-to-cart-button">Adicionar ao carrinho</button>
            </form>
        </div>
    </div>
</main>
{% endblock %}
